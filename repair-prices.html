<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Repair Price Calculators</title>

<style>
:root{
  --bg:#f1f5f9;
  --panel:#ffffff;
  --border:#e5e7eb;
  --text:#0f172a;
  --muted:#64748b;
  --blue:#2563eb;
  --green:#16a34a;
  --amber:#f59e0b;
  --red:#dc2626;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Inter,system-ui;
  background:var(--bg);
  padding:28px 16px;
  color:var(--text);
}

.wrapper{
  max-width:1200px;
  margin:auto;
}

h1{
  text-align:center;
  margin-bottom:4px;
}

.tagline{
  text-align:center;
  font-weight:700;
  margin-bottom:26px;
}

.tagline a{
  color:var(--blue);
  text-decoration:none;
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:18px;
}

/* CARD */
.card{
  background:var(--panel);
  border-radius:18px;
  padding:20px;
  box-shadow:0 20px 40px rgba(0,0,0,.08);
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* HEADER AREA */
.card-header{
  min-height:260px;
  width:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
}

/* TITLES */
.card h2{
  margin:0 0 6px;
}

/* Dropdown + placeholder */
select,
.device-placeholder{
  margin-top:10px;
  padding:9px;
  width:85%;
  border-radius:10px;
  border:1px solid var(--border);
  font-size:14px;
  height:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#f8fafc;
  color:#475569;
}

/* FX5 info (reserve height) */
.fx5-info{
  min-height:36px;
  margin-top:8px;
  font-size:12px;
  color:var(--muted);
}

/* Customer warning */
.customer-warning{
  font-size:12px;
  color:var(--red);
  margin-top:8px;
  display:none;
  text-align:left;
}

.customer-warning .note-title{
  font-weight:700;
  display:block;
  margin-bottom:3px;
}

.customer-warning .triangle{
  display:inline;
  margin-right:4px;
}

/* INPUT */
input{
  margin-top:14px;
  width:85%;
  padding:10px;
  border-radius:10px;
  border:1px solid var(--border);
  font-size:15px;
}

/* OUTPUT */
.output{
  margin-top:12px;
  font-weight:700;
  color:var(--blue);
}

/* MARGIN */
.margin{
  margin-top:6px;
  font-size:13px;
  font-weight:700;
}

.margin.red{color:var(--red);}
.margin.red::before{content:"⚠️ ";}
.margin.amber{color:var(--amber);}
.margin.green{color:var(--green);}

/* TIME */
.time{
  margin-top:6px;
  font-size:12px;
  color:var(--muted);
  font-weight:600;
}

/* ===== ACCORDION STYLES ===== */
.section-title{
  margin:40px 0 16px;
  text-align:center;
}

.accordion{
  background:var(--panel);
  border-radius:16px;
  box-shadow:0 12px 30px rgba(0,0,0,.08);
  overflow:hidden;
  margin-bottom:16px;
}

.accordion-header{
  padding:16px 20px;
  cursor:pointer;
  font-weight:700;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid var(--border);
}

.accordion-header span{
  color:var(--muted);
  font-weight:600;
}

.accordion-content{
  display:none;
  padding:14px 20px;
}

.price-row{
  display:flex;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px dashed var(--border);
  font-size:14px;
}

.price-row:last-child{
  border-bottom:none;
}
</style>
</head>

<body>
<div class="wrapper">

<h1>Repair Price Calculators</h1>
<div class="tagline">
  Use replacebase.co.uk for parts cost. Console prices are from the website here:
  <a href="https://cnlsrepair.co.uk/repairs/console-repairs/" target="_blank">Console Prices</a>
</div>

<div class="grid">

<!-- LCD SCREEN -->
<div class="card">
  <div class="card-header">
    <h2>LCD Screen Repair</h2>
    <div class="device-placeholder">iPhone Only</div>
    <div class="fx5-info">Only use the red FX5 Screen option cost here</div>
    <div class="customer-warning">
      <span class="note-title">Note to Customer:</span>
      <span class="triangle">⚠️</span>
      You may see a message on the iPhone saying the replacement part can’t be verified.
    </div>
  </div>
  <input type="number" placeholder="Parts cost (£)" oninput="calc(this,130)">
  <div class="output"></div>
  <div class="margin"></div>
  <div class="time"></div>
</div>

<!-- OLED SCREEN -->
<div class="card">
  <div class="card-header">
    <h2>OLED Screen Repair</h2>
    <select class="device-select" onchange="updateWarnings()">
      <option value="iPhone">iPhone</option>
      <option value="Android">Android</option>
    </select>
    <div class="fx5-info">Only use the purple FX5 Screen option cost here - iPhone</div>
    <div class="customer-warning">
      <span class="note-title">Note to Customer:</span>
      <span class="triangle">⚠️</span>
      You may see a message on the iPhone saying the replacement part can’t be verified.
    </div>
  </div>
  <input type="number" placeholder="Parts cost (£)" oninput="calc(this,45)">
  <div class="output"></div>
  <div class="margin"></div>
  <div class="time"></div>
</div>

<!-- BATTERY -->
<div class="card">
  <div class="card-header">
    <h2>Battery Repair</h2>
    <select class="device-select" onchange="updateWarnings()">
      <option value="iPhone">iPhone</option>
      <option value="Android">Android</option>
    </select>
    <div class="fx5-info"></div>
    <div class="customer-warning">
      <span class="note-title">Note to Customer:</span>
      <span class="triangle">⚠️</span>
      You may see a message on the iPhone saying the replacement part can’t be verified.
    </div>
  </div>
  <input type="number" placeholder="Parts cost (£)" oninput="calc(this,115)">
  <div class="output"></div>
  <div class="margin"></div>
  <div class="time"></div>
</div>

<!-- CHARGING PORT -->
<div class="card">
  <div class="card-header">
    <h2>Charging Port Repair</h2>
    <select class="device-select" onchange="updateWarnings()">
      <option value="iPhone">iPhone</option>
      <option value="Android">Android</option>
    </select>
    <div class="fx5-info"></div>
  </div>
  <input type="number" placeholder="Parts cost (£)" oninput="calc(this,80)">
  <div class="output"></div>
  <div class="margin"></div>
  <div class="time"></div>
</div>

</div>

<!-- ===== CONSOLES ===== -->
<h2 class="section-title">Games Console Repairs</h2>

<div class="accordion">
  <div class="accordion-header">PlayStation <span>+</span></div>
  <div class="accordion-content">
    <div class="price-row"><strong>PS4</strong><span></span></div>
    <div class="price-row">HDMI Port<span>£—</span></div>
    <div class="price-row">Overheating<span>£—</span></div>
    <div class="price-row">Power Supply<span>£—</span></div>

    <div class="price-row"><strong>PS5</strong><span></span></div>
    <div class="price-row">HDMI Port<span>£—</span></div>
    <div class="price-row">Overheating<span>£—</span></div>
    <div class="price-row">Power Supply<span>£—</span></div>
  </div>
</div>

<div class="accordion">
  <div class="accordion-header">Xbox <span>+</span></div>
  <div class="accordion-content">
    <div class="price-row">Xbox One S<span>£—</span></div>
    <div class="price-row">Xbox One X<span>£—</span></div>
    <div class="price-row">Xbox Series S<span>£—</span></div>
    <div class="price-row">Xbox Series X<span>£—</span></div>
  </div>
</div>

<div class="accordion">
  <div class="accordion-header">Nintendo <span>+</span></div>
  <div class="accordion-content">
    <div class="price-row">Switch<span>£—</span></div>
    <div class="price-row">Switch Lite<span>£—</span></div>
    <div class="price-row">Switch OLED<span>£—</span></div>
  </div>
</div>

<!-- ===== IPADS ===== -->
<h2 class="section-title">iPad Touchscreen Repairs</h2>

<div class="accordion">
  <div class="accordion-header">iPad Models <span>+</span></div>
  <div class="accordion-content">
    <div class="price-row">iPad 7th Gen<span>£—</span></div>
    <div class="price-row">iPad 8th Gen<span>£—</span></div>
    <div class="price-row">iPad 9th Gen<span>£—</span></div>
    <div class="price-row">iPad 10th Gen<span>£—</span></div>
  </div>
</div>

</div>

<script>
function roundTo5(n){
  return Math.round(n / 5) * 5;
}

function calc(input, percent){
  const cost = parseFloat(input.value || 0);
  const shipping = 3;
  const rawPrice = (cost + shipping) * (1 + percent / 100);
  const price = roundTo5(rawPrice);
  const margin = price - cost - shipping;

  const card = input.closest('.card');
  card.querySelector('.output').innerText = `Quote Price: £${price}`;
  const m = card.querySelector('.margin');

  let colour = margin < 10 ? "red" : margin < 20 ? "amber" : "green";
  let label = margin < 10 ? "Avoid Quote" : margin < 20 ? "Ok Quote" : "Good Quote";

  m.innerText = `Margin: £${margin.toFixed(2)} — ${label}`;
  m.className = `margin ${colour}`;
}

function updateWarnings(){
  document.querySelectorAll('.customer-warning').forEach(w=>{
    const card = w.closest('.card');
    const sel = card.querySelector('.device-select');
    w.style.display = !sel || sel.value === "iPhone" ? "block" : "none";
  });
}
updateWarnings();

/* Accordion logic */
document.querySelectorAll('.accordion-header').forEach(h=>{
  h.addEventListener('click',()=>{
    const c = h.nextElementSibling;
    const open = c.style.display === "block";
    c.style.display = open ? "none" : "block";
    h.querySelector("span").innerText = open ? "+" : "−";
  });
});
</script>

</body>
</html>

